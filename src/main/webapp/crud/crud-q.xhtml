<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	<p:panel rendered="#{crudBean.mode == 'R'}">
		<div class="card">
			<h:form>
				<p:breadCrumb>
					<p:menuitem value="Electronics" />
					<p:menuitem value="Home" />
				</p:breadCrumb>
			</h:form>
		</div>
		<div>
			<div class="p-grid">
				<div class="p-col-12 p-md-6">
					<p:panelGrid columns="2" style="width: 100%;">
						<p:panelGrid style="width: 100%; display: flex;">
						<h1><p><storng><center>Form Search</center></storng></p></h1>
							<div class="row">
								<div class="col-md-3">
									<div class="form-group">
										<label for="firstname"> First Name <i
											class="pi pi-user"></i>
										</label>
										<p:inputText id="firstname"
											value="#{crudBean.employeeCriteria.firstName}"
											autocomplete="off" placeholder="First Name"
											styleClass="form-control" />
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-3">
									<div class="form-group">
										<label for="lastname"> Last Name </label><i
											class="fal fa-file-signature"></i>
										<p:inputText id="lastname"
											value="#{crudBean.employeeCriteria.lastName}"
											autocomplete="off" placeholder="Last Name"
											styleClass="form-control" />
									</div>
								</div>
							</div>

						</p:panelGrid>

					</p:panelGrid>
				</div>
			</div>
			<p:panel columns="2" styleClass="p-field p-col-12 p-md-4">
				<div style="display: flex; justify-content: space-between;">
					<p:commandButton id="searchBtn" value="Search" update="@form"
						icon="pi pi-search" action="#{crudBean.searchBtnOnclick}"
						styleClass="p-button-primary" immediate="" />
					<div>
						<p:commandButton id="resetBtn" value="Reset" icon="pi pi-refresh"
							styleClass="ui-button-success" update="@form"
							action="#{crudBean.resetBtnOnclick}" />
						<p:commandButton id="addBtn" value="Add" icon="pi pi-plus"
							styleClass="ui-button-success" update="@form"
							action="#{crudBean.addBtnOnclick}" />
					</div>
				</div>
			</p:panel>
		</div>
		<p:dataTable value="#{crudBean.employeeList}" var="m"
			selection="#{crudBean.selectedMember}"
			filteredValue="#{crudBean.employeeList}">
			<p:ajax event="rowSelect" update="@form" />
			<p:column headerText="ID">#{m.id}</p:column>
			<p:column headerText="First">#{m.firstName}</p:column>
			<p:column headerText="Last">#{m.lastName}</p:column>
			<p:column headerText="Age">#{crudBean.calculateAge(m.birthdate)}</p:column>
			<p:column headerText="Action">
				<p:commandButton id="editBtn" value="Edit" update="@form" icon="pi pi-pencil">
					<f:setPropertyActionListener target="#{crudBean.selectedMember}"
						value="#{m}" />
					<p:ajax event="click" update="@form"
						listener="#{crudBean.editBtnOnclick(m)}" />
				</p:commandButton>
			</p:column>
		</p:dataTable>
	</p:panel>
</ui:composition>
